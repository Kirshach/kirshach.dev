---
import { getCollection } from "astro:content";

import Layout from "@layouts/layout.astro";
import { filterDraft } from "@utils/filter-draft";

const blogPosts = await getCollection("blog-posts", filterDraft);
---

<Layout title="Blog.">
  <h1>My blog</h1>
  <h2>Here I will post stuff</h2>
  <p>See <a href="/blog/tags">Tag cloud</a></p>
  <p>
    Here's an automatically generated list of posts based on Astro's globbing:
  </p>
  <ul>
    {
      blogPosts.map((post) => (
        <li>
          <a href={`/blog/posts/${post.slug}`}>{post.data.title}</a>
        </li>
      ))
    }
  </ul>
</Layout>

<style></style>
